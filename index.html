
<!DOCTYPE html>
<html lang="zh-Hant">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>åœŸåœ°è¤‡ä¸ˆè¦è²»è©¦ç®—ï¼ˆåŠŸèƒ½ç‰ˆï¼‰</title>

  <style>
    :root{--brand:#cc5500;--ink:#222;--muted:#666;--bg:#f6f6f6;--card:#fff;}
    *{box-sizing:border-box}
    body{margin:0;background:var(--bg);color:var(--ink);font-family:"Microsoft JhengHei",system-ui,-apple-system,"Segoe UI",Roboto,"Noto Sans TC",sans-serif}
    .shell{min-height:100svh;display:grid;place-items:center;padding:24px}
    .box{width:min(560px,100%);background:var(--card);border-radius:16px;padding:24px;box-shadow:0 6px 18px rgba(0,0,0,.08)}
    .logo{width:90px;height:auto;display:block;margin:8px auto 12px}
    h2{margin:6px 0 2px;font-size:22px;text-align:center}
    .sub{margin:0 0 16px;color:var(--muted);font-size:12px;text-align:center}
    label{display:inline-block;margin:10px 8px 6px 0}
    input,select,button{font:inherit}
    input,select{width:100%;padding:10px 12px;border:1px solid #ddd;border-radius:10px}
    .grid{display:grid;gap:10px}
    .grid.cols-2{grid-template-columns:1fr 1fr}
    @media (max-width:480px){ .grid.cols-2{grid-template-columns:1fr} }
    .btn{display:inline-block;padding:10px 14px;border-radius:10px;border:1px solid #ddd;background:#fff;color:#222;text-decoration:none;cursor:pointer}
    .btn-primary{background:var(--brand);border-color:var(--brand);color:#fff}
    .btn-bar{display:flex;gap:10px;flex-wrap:wrap;justify-content:center;margin-top:12px}
    #result span{display:block;margin-top:4px;color:#d11;font-weight:700}
    .links{line-height:1.9;margin-top:16px}
    .muted{color:var(--muted);font-size:12px;text-align:center}
    hr{border:none;border-top:1px solid #eee;margin:18px 0}
  </style>
</head>
<body>
  <div class="shell">
    <main class="box">
      <img class="logo" src="./logo.png" alt="å¥‘åˆä¸å‹•ç”¢ LOGO" />

      <h2>åœŸåœ°è¤‡ä¸ˆè¦è²»è©¦ç®—ï¼ˆåŠŸèƒ½ç‰ˆï¼‰</h2>
      <p class="sub">ä¾å…§æ”¿éƒ¨æ”¶è²»åŸºæº–è¡¨é‚è¼¯è£½ä½œï¼Œçµæœåƒ…ä¾›åƒè€ƒã€‚</p>

      <div class="grid">
        <label>è¤‡ä¸ˆé¡å‹ï¼š</label>
        <select id="type">
          <option value="é‘‘ç•Œè¤‡ä¸ˆ">é‘‘ç•Œè¤‡ä¸ˆ</option>
          <option value="åˆ†å‰²ç­‰">åˆ†å‰²ã€èª¿æ•´ç­‰</option>
        </select>

        <label>åœŸåœ°é¢ç©ï¼ˆã¡ï¼‰ï¼š</label>
        <input type="number" id="area" value="100" />

        <label>æ–½æ¸¬å–®ä½æ•¸ï¼š</label>
        <input type="number" id="units" value="5" />
      </div>

      <div class="btn-bar">
        <button class="btn btn-primary" onclick="calculate()">è©¦ç®—</button>
        <button class="btn" onclick="exportTXT()">åŒ¯å‡º TXT</button>
        <button class="btn" onclick="window.print()">åˆ—å°æœ¬é </button>
        <button class="btn" onclick="showHistory()">æ­·å²ç´€éŒ„</button>
        <button class="btn" onclick="clearHistory()">æ¸…é™¤æ­·å²ç´€éŒ„</button>
        <button class="btn" onclick="sharePage()">åˆ†äº«æ­¤ç¶²ç«™</button>
      </div>

      <div id="result" style="margin-top:12px;"></div>
      <div id="history" style="margin-top:8px;"></div>

      <hr />

      <div class="links">
        <strong>å¿«é€Ÿé€£çµï½œFOLLOW US</strong><br>
        ğŸ‘‰ <a href="https://line.me/ti/p/aLynUIRtsJ" target="_blank" rel="noopener">LINE è«®è©¢</a><br>
        ğŸ‘‰ <a href="https://www.facebook.com/profile.php?id=100082625327420" target="_blank" rel="noopener">Facebook ç²‰å°ˆ</a><br>
        ğŸ‘‰ <a href="https://www.facebook.com/groups/923714991628656" target="_blank" rel="noopener">Facebook ç¤¾åœ˜</a><br>
        ğŸ‘‰ <a href="https://www.instagram.com/hanwu_liang/" target="_blank" rel="noopener">IGï¼š@hanwu_liang</a><br>
        ğŸ‘‰ <a href="https://www.youtube.com/@h-ul4237" target="_blank" rel="noopener">YouTube é »é“</a><br>
        ğŸ‘‰ <a href="https://www.threads.net/@hanwu_liang" target="_blank" rel="noopener">Threads</a>
      </div>

      <!-- é›¢ç·šç‰ˆå…¥å£ -->
      <div class="btn-bar">
        <a class="btn btn-primary" href="./lhu/é›¢ç·šç‰ˆ/index.html" rel="noopener">
          ğŸ“¥ ä½¿ç”¨é›¢ç·šç‰ˆè©¦ç®—ï¼ˆå…ç¶²è·¯å¯æ“ä½œï¼‰
        </a>
        <a class="btn" href="./index_links.html" target="_blank" rel="noopener">
          ğŸ“Œ å‰å¾€å¿«é€Ÿå°è¦½é 
        </a>
      </div>

      <p class="muted" style="margin-top:8px;">ç¬¬ä¸€æ¬¡å•Ÿç”¨é›¢ç·šç‰ˆéœ€é€£ç¶²å¿«å–ï¼Œä¹‹å¾Œå¯é›¢ç·šä½¿ç”¨ï¼ˆå¤–éƒ¨é€£çµéœ€ç¶²è·¯ï¼‰ã€‚</p>
    </main>
  </div>

  <script>
    function getBase(type, area){
      if (area < 200) return type === "é‘‘ç•Œè¤‡ä¸ˆ" ? 2500 : 1500;
      else if (area < 1000) return type === "é‘‘ç•Œè¤‡ä¸ˆ" ? 3000 : 2000;
      else if (area < 10000) return type === "é‘‘ç•Œè¤‡ä¸ˆ" ? 3500 : 2500;
      else return type === "é‘‘ç•Œè¤‡ä¸ˆ" ? 4000 : 3000;
    }
    function calculate(){
      const area = parseFloat(document.getElementById("area").value) || 0;
      const units = parseInt(document.getElementById("units").value) || 0;
      const type = document.getElementById("type").value;
      const base = getBase(type, area);
      const unitRate = (type === "é‘‘ç•Œè¤‡ä¸ˆ") ? 1000 : 500;
      const unitCount = (type === "é‘‘ç•Œè¤‡ä¸ˆ") ? Math.ceil(units/5) : units;
      const unitFee = unitRate * unitCount;
      const total = base + unitFee;

      document.getElementById("result").innerHTML =
        '<span>åŸºæœ¬è²»ï¼š' + base + ' å…ƒ</span>' +
        '<span>æ–½æ¸¬è²»ï¼ˆ' + unitCount + ' å–®ä½ Ã— ' + unitRate + ' å…ƒï¼‰ï¼š' + unitFee + ' å…ƒ</span>' +
        '<span>åˆè¨ˆï¼š' + total + ' å…ƒ</span>';

      let h = JSON.parse(localStorage.getItem("calcHistory") || "[]");
      h.unshift(`é¡å‹ï¼š${type}ï½œé¢ç©ï¼š${area}ã¡ï½œå–®ä½ï¼š${units}ï½œå…±ï¼š${total}å…ƒ`);
      if (h.length > 10) h = h.slice(0, 10);
      localStorage.setItem("calcHistory", JSON.stringify(h));
    }
    function exportTXT(){
      const t = document.getElementById("result").innerText || 'å°šæœªè©¦ç®—';
      const b = new Blob([t], {type:'text/plain'});
      const u = URL.createObjectURL(b);
      const a = document.createElement('a');
      a.href = u; a.download = 'è¤‡ä¸ˆè©¦ç®—çµæœ.txt';
      document.body.appendChild(a); a.click(); a.remove();
      URL.revokeObjectURL(u);
    }
    function showHistory(){
      const h = JSON.parse(localStorage.getItem("calcHistory") || "[]");
      let html = "<strong>æ­·å²ç´€éŒ„</strong><ul>";
      h.forEach(i => html += "<li>" + i + "</li>");
      html += "</ul>";
      document.getElementById("history").innerHTML = html;
    }
    function clearHistory(){
      localStorage.removeItem("calcHistory");
      document.getElementById("history").innerHTML = "";
    }
    function sharePage(){
      const data = { title:'åœŸåœ°è¤‡ä¸ˆè¦è²»è©¦ç®—', text:'å¿«é€Ÿè©¦ç®—è¦è²»å·¥å…·', url: location.href };
      if (navigator.share) navigator.share(data).catch(()=>{});
      else { navigator.clipboard.writeText(location.href); alert('å·²è¤‡è£½ç¶²å€ï¼Œå¯è²¼çµ¦å®¢æˆ¶ã€‚'); }
    }
  </script>
</body>
</html>
